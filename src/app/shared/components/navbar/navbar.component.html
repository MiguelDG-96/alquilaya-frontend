<nav
  class="sticky top-0 z-30 bg-white shadow-lg backdrop-blur-sm bg-opacity-95"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      <!-- Sección 1: Logo y Marca -->
      <div class="flex shrink-0 items-center cursor-pointer mr-3">
        <figure>
          <img src="/img/logo-alquilaYa.svg" alt="Logo de alquilaYa" />
        </figure>
      </div>

      <!-- Sección 2: Buscador Central (Oculto en pantallas pequeñas, visible a partir de md) -->
      <div class="hidden md:flex grow justify-center mx-8">
        <form (ngSubmit)="performSearch()" class="w-full max-w-xl">
          <div class="relative">
            <!-- Input de Búsqueda -->
            <input
              type="text"
              name="searchQuery"
              [(ngModel)]="searchQuery"
              placeholder="Buscar productos, categorías o ubicaciones..."
              class="w-full py-3 pl-12 pr-4 text-gray-700 placeholder-gray-400 border-0 focus:ring-0 focus:ring-transparent bg-white rounded-2xl inset-shadow-xs shadow-xl"
              aria-label="Campo de búsqueda"
            />
            <!-- Icono de Búsqueda -->
            <button
              type="submit"
              class="absolute left-0 top-0 mt-3 ml-4 text-gray-400 hover:text-purple-600"
            >
              <i class="fas fa-search text-marca"></i>
            </button>
          </div>
        </form>
      </div>

      <!-- Sección 3: Botones de Acción (Iniciar Sesión / Registrarse) -->
      <div class="hidden md:flex items-center space-x-4">
        <!-- Botón Iniciar Sesión (Texto plano) -->
        <a
          (click)="navigateToLogin()"
          class="text-gray-700 font-semibold text-lg hover:text-purple-700 transition-colors cursor-pointer p-2 rounded-lg"
          aria-label="Ir a la página de inicio de sesión"
        >
          Iniciar Sesión
        </a>

        <!-- Botón Registrarse (Botón primario púrpura) -->
        <button
          (click)="navigateToRegister()"
          class="px-5 py-2 text-white font-bold text-lg bg-marca rounded-2xl shadow-lg hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-300 transition-all duration-200 transform hover:scale-105 cursor-pointer"
          aria-label="Registrar una nueva cuenta"
        >
          Registrarse
        </button>
      </div>

      <!-- Botón de Menú Móvil (Hamburguesa) -->
      <!-- Este botón solo se muestra en pantallas pequeñas -->
      <div class="flex md:hidden">
        <button>
          <i
            [class]="
              isMenuOpen() ? 'fas fa-times text-xl' : 'fas fa-bars text-xl'
            "
          ></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Menú Móvil Desplegable (No implementado completamente, solo la estructura) -->
  @if (isMenuOpen()) {
  <div class="md:hidden bg-white shadow-xl">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <!-- Contenido del Buscador Móvil -->
      <form (ngSubmit)="performSearch()" class="block w-full px-3 py-2">
        <div class="relative">
          <input
            type="text"
            name="searchQueryMobile"
            [(ngModel)]="searchQuery"
            placeholder="Buscar productos..."
            class="w-full py-2 pl-10 pr-4 text-gray-700 placeholder-gray-500 border border-gray-300 focus:border-purple-500 bg-gray-50 rounded-lg shadow-inner"
          />
          <button
            type="submit"
            class="absolute left-0 top-0 mt-2 ml-3 text-gray-400"
          >
            <i class="fas fa-search"></i>
          </button>
        </div>
      </form>
      <!-- Links de Autenticación Móvil -->
      <a
        (click)="navigateToLogin()"
        class="block px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-purple-700 rounded-md"
      >
        Iniciar Sesión
      </a>
      <a
        (click)="navigateToRegister()"
        class="block w-full text-center px-3 py-2 text-base font-medium text-white bg-purple-700 hover:bg-purple-800 rounded-md"
      >
        Registrarse
      </a>
    </div>
  </div>
  }
</nav>
